<div class="dms-edit ajaxrest" data-url="/demoUsers/{[USER_ID]}"
	data-model="demo">
	<!-- BEGIN FORM-->
	<form class="form-horizontal">
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="pannel-name">用户基本信息</div>
				<div class="pannel-tools">
					<a href="javascript:;" class="expand"> <i
						class="fa fa-chevron-down"></i></a>
				</div>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">姓名</label>
							<div class="col-xs-8">
								<input id="name" name="name" class="form-control" type="text" value="" data-fieldName="user_name" />
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">性别</label>
							<div class="col-xs-8">
								<select id="sex" name="sex" class="bs-select form-control"
									style="outline: 0 !important" data-dictCode="1002"
									data-value="" data-fieldName="sex">
								</select>

							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">出生日期</label>
							<div class="col-xs-8">
								<div class="input-group date date-picker">
									<input id="birdthday" name="bridthday" readonly
										class="form-control dmsDisabled" type="text" value=""
										data-fieldName="birthday" /> <span class="input-group-btn">
										<button class="btn default date-set" type="button">
											<i class="fa fa-calendar"></i>
										</button>
                                              <button class="btn default date-reset" type="button">
                                                  <i class="fa fa-times"></i>
                                              </button>
									</span>
								</div>
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">用户名</label>
							<div class="col-xs-8">
								<input id="username" name="username" type="text"
									class="form-control" data-fieldName="name" />
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">年龄</label>
							<div class="col-xs-8">
								<input id="age" name="age" type="text" class="form-control"
									data-fieldName="age" />
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">薪水</label>
							<div class="col-xs-8">
								<span class="form-show" data-fieldName="salary"></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="pannel-name">用户附加信息</div>
				<div class="pannel-tools">
					<a href="javascript:;" class="expand"> <i
						class="fa fa-chevron-down"></i></a>
				</div>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">工作地点</label>
							<div class="col-xs-8">
								<input id="workAddress" name="workAddress" class="form-control"
									type="text" />
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">有效状态</label>
							<div class="col-xs-8">
								<input id="status" name="status" type="radio"
									data-dictCode="1002" data-value="" data-fieldName="sex" />
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">工作开始时间</label>
							<div class="col-xs-8">
								<div class="input-group date date-picker">
									<input id="entryTime" name="entryTime" readonly
										class="form-control" type="text" value=""
										data-fieldName="entry_time" /> <span class="input-group-btn">
										<button class="btn default date-set" type="button">
											<i class="fa fa-calendar"></i>
										</button>
                                              <button class="btn default date-reset" type="button">
                                                  <i class="fa fa-times"></i>
                                              </button>
									</span>
								</div>
							</div>
						</div>
					</div>

					<div class="col-xs-4">
						<div class="form-group">
							<label class="control-label col-xs-4">公司地址</label>
							<div class="col-xs-8">
								<input id="region" name="region" type="checkbox"
									data-dictCode="1002" data-allFlag="false" data-value=""
									data-fieldName="sex" />
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="panel panel-default table-panel">
				<div class="panel-heading">
					<div class="pannel-name">用户地址信息</div>
					<div class="pannel-button">
						<div class="btn-group btn-group-sm">
							<a class="btn btn-outline" href="javascript:;" data-onclickEvent="true">
								<i class="fa fa-plus-square"></i> 新增
							</a>
						</div>
					</div>
					<div class="pannel-tools">
						<a href="javascript:;" class="expand"> <i class="fa fa-chevron-down"></i></a>
					</div>
				</div>
				<div class="panel-body">
					<table
						class="table table-striped table-bordered table-hover table-responsive"
						id="addressList">
					</table>
				</div>
		</div>
		
	<div class="form-actions">
		<a data-url="/demoUsers/{[USER_ID]}" data-model="demo" data-method="PUT"  data-fileUploadBtn="true"
			data-callBack="true" class="btn blue"
			data-toggle="confirmation"><i class="fa fa-save"></i>保存</a> <a
			data-goback="page" href="demo/searchUser2.html"
			class="btn blue ajaxify"><i class="fa fa-reply"></i>返回</a>
	</div>
</form>
</div>

<script type="text/javascript">
	
	$(document).one("onload.dms",function(event,container){
		new Datatable().initLocale({
			src : "addressList",
			container:container,
			rowID:"ADDRESS_ID",
			url : dmsCommon.getDmsPath()["demo"] + "/demoUsers/{[USER_ID]}/address",
			sortName : "ADDRESS_ID", //当需要默认排序时写，否则不写，默认情况下不写，sortOrder同样
			sortOrder : "asc",
			columns : [ {field : "ADDRESS_ID",title : "操作",operateFormat : [ {type : "localDel",onAfterEvent:function(value, row, index){},onBeforeEvent:function(value, row, index){}} ]}, 
			            {field : "PROVINCE",inputField:"province", title : "checkBox",inputCheckBoxFormat : {type : "dict",codeType : "1001"}},
			            {field : "COUNTRY",inputField:"country",title : "Radio",inputRadioFormat : {type : "dict",codeType : "1001"}},
			            {field : "ADDRESS",inputField:"address",title : "地址",inputTextFormat : {}},
			            {field : "STATUS",inputField:"status",title : "Select",inputSelectFormat : {type : "dict",codeType : "1006"}},
			            {field : "MILLS",inputField:"mills",title : "数字",inputNumberFormat : {decimal : 2}},
			            {field : "ADDRESS_ID",inputField:"addressFile",title : "附件",minWidth:50,inputFileFormat : {billTypeCode:"10421002"}},
			            {field : "ADDRESS_DATE",inputField:"addressDate",title : "日期",inputDateFormat : {}} 
			         ]
		});
		
		//新增页面的回调函数
		$("a[data-callBack='true']",container).on("callBack.dms",function(event,response){
			//刷新当前页面
			dmsCommon.refreshPageByUrl("demo/editUser4.html",container);
		});
		
		//事件点击
		$("a[data-onclickEvent='true']",container).on("dms.click",function(event){
			$("#addressList",container).dmsTable().appendBlankRow();
		});
	});

</script>
